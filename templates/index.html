{% extends 'base.html' %}

{% block navbar %}
<div class="collapse navbar-collapse" id="navbarsExampleDefault">
    <ul class="navbar-nav mr-auto">
    <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="#">How it Works</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/about">About</a>
    </li>
    </ul>
</div>
{% endblock %}  


{% block content %}
    <div class="alert alert-primary" role="alert">
        <p>Upload your bird images and the system will try to recognition them</p>
    </div>
    <form action="" method="post" enctype="multipart/form-data">
        <div class="form-group">
            <label for="bird_image">Select image to upload</label>
            <input type="file" class="form-control-file btn btn-outline-secondary" name="bird_image" id="bird_image" accept=".jpg,.jpeg,.gif,.png" required="required">
        </div>
        <div class="form-group">
            <input type="submit" value="Upload" name="submit" class="btn btn-dark">
        </div>
    </form>
    <br />
    <br />
    {% if label %}
    <div class="card" style="width: 20rem;">
        <div class="card-header">Uploaded</div>
        <img src="data:image/jpeg;base64,{{image}}" class="card-img-top" alt="predicted image">
        <div class="card-body">
            <h5 class="card-title">Identification</h5>
            <p class="card-text">Predicted : {{label}}</p>
            <p class="card-text">Confidence : {{prob}} %</p>
        </div>
    </div>
    {% endif %}
    <br />
    <div class="alert alert-warning" role="alert">
        <h5 class="alert-heading">Disclaimer:</h5>
        <ul>
            <li>This is still an Alpha release. There are still many limitations. Miss-identification of birds are possible.</li>
            <li>Currently only identifies the following 16 species of birds:
                <ul>
                    <li>Alexandrine Parakeet</li>
                    <li>Black-headed Ibis</li>
                    <li>Chestnut-headed Bee-eater</li>
                    <li>Cotton Pygmy Goose</li>
                    <li>Crested Serpent Eagle</li>
                    <li>Egret</li>
                    <li>Great Cormorant</li>
                    <li>Indian Peafowl</li>
                    <li>Lesser Whistling Duck</li>
                    <li>Malabar Pied Hornbill</li>
                    <li>Mandarin</li>
                    <li>Owl</li>
                    <li>Painted Stork</li>
                    <li>Puffin</li>
                    <li>Toucan</li>
                    <li>Wood Duck</li>
                </ul>
            </li>
            <li>The images you upload <strong>WILL NOT</strong> be kept in any way. The uploaded image data will be discarded on each request.</li>
        </ul>
        <p class="mb-0">The code of this application is available at <a href="https://github.com/Thimira/bird_watch" target="_blank" class="alert-link">GitHub</a>.</p>
    </div>
{% endblock %}  